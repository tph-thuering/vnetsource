{% extends "ts_emod2/base.html" %}

{% block page_title %}
    EMOD - Simulation Uploader
{% endblock %}

{% block extra_local_css %}
{% endblock %}

{% block extra_local_js %}
    <script>
    </script>

    <script src="{{ STATIC_URL }}ts_emod2/js/simulation_uploader.js"></script>
{% endblock %}

{% block page_content %}
    <h3>Simulation Uploader</h3>

    <div class="well well-large">
        <form id="form" action="" method="post" enctype="multipart/form-data">{% csrf_token %}
            <div class="row">
                <div class="span2">
                    Simulation Name:
                </div>

                <div class="span3">
                    <input type="text" id="simulation_name" name="simulation_name" />
                </div>
            </div>

            <div class="row">
                <div class="span2">
                    Simulation Description:
                </div>

                <div class="span6">
                    <textarea id="simulation_description" name="simulation_description" rows="5" style="resize: none;"></textarea>
                </div>
            </div>
            <br>

            <div class="row">
                <div class="span2">
                    Location:
                </div>

                <div class="span3">
                    <select id="location-select">
                        <option value="0">None</option>

                        <optgroup label="Public">
                            {% for location in public_locations %}
                                <option value="{{ location.id }}">{{ location.name }}</option>
                            {% endfor %}
                        </optgroup>

                        <optgroup label="Private">
                            {% for location in private_locations %}
                                <option value="{{ location.id }}">{{ location.name }}</option>
                            {% endfor %}
                        </optgroup>
                    </select>
                </div>

                <div class="span3">
                    <a class="btn btn-small tooltip_link" href="#" data-original-title="Add New Location"
                        data-toggle="modal" data-target="#add-new-location-modal">
                        <i class="icon-edit"></i> Add New Location
                    </a>
                </div>
            </div>

            <input type="submit" class="btn" value="Save Demographics" />
        </form>
    </div>

    {% include "ts_emod2/add_new_location_modal.html" %}
{% endblock %}